{% extends 'polls/base_polls.html' %}

{% block title %}
	Add question
{% endblock %}

{% block content %}
    <div class="main">
        {% load static %}
        <link rel="stylesheet" type="text/css" href="{% static 'polls/css/add_question.css' %}">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Jost:wght@100;300;400;700&display=swap" rel="stylesheet">

        {% if error_message %}
            <p><strong>{{ error_message }}</strong></p>
        {% endif %}
        {% if question_id %}
            <form action="{% url 'polls:update_question' question_id %}" method="post" id="add_question">
        {% else %}
            <form action="{% url 'polls:leave_question' %}" method="post" id="add_question">
        {% endif %}
            {% csrf_token %}
            <br>
            <div class="wrapper">
            <div id="demo" class="demo"></div>
                {% if not question_id %}
                    <p>
                        <input type="text" name="question_title" placeholder="Question title" maxlength="200" required="" id="id_question_title">
                        <small></small>
                    </p>
                    <p>
                        <p>
                            <textarea name="question_text" cols="35" rows="3" minlength="50" placeholder="Question text" maxlength="9000" required="" id="id_question_text"></textarea>
                            <small></small>
                        </p>
                    </p>
                    <div id="survey_options"></div>
                {% else %}
                    <p>
                        <input value="{{ title }}" type="text" name="question_title" placeholder="Question title" maxlength="200" required="" id="id_question_title">
                        <small></small>
                    </p>
                    <p>
                        <textarea name="question_text" cols="35" rows="3" minlength="50" placeholder="Question text" maxlength="9000" required="" id="id_question_text">{{ text }}</textarea>
                        <small></small>
                    </p>
                    <div id="survey_options">
                    {% for choice in choices %}
                        <input value="{{ choice }}" required type="text" name="choice" class="survey_options" size="100" placeholder="Another Field">
                        <small></small>
                    {% endfor %}
                    </div>
                {% endif %}

                <div class="controls">
                  <a href="#" id="add_more_fields"><i class="fa fa-plus"></i>Add More</a>
                  <a href="#" id="remove_fields"><i class="fa fa-minus"></i>Remove Field</a>
                </div>
              </div>
            <button type="submit">Left question</button>
        </form>
    </div>
    <script src="{% static 'polls/js/script.js' %}"></script>
    <header>
        <h1>New question</h1>
    </header>
{% endblock %}
